---



---

<!-- Formulario de registro -->

<div class="w-full max-w-6xl mx-auto p-12">
  <div class="relative border border-[#64ffd6] shadow-xl shadow-[#00ffbb]/25 rounded-4xl">
    <div class="w-full flex flex-col md:flex-row items-center gap-4 p-6">
      <img src="/ds.jpg" alt="Novuvitae" class="w-full md:w-1/2 object-cover rounded-4xl" />
      <div class="w-full md:w-1/2">
        <form id="register-form" class="p-6 rounded shadow-md w-full max-w-sm space-y-4">
          <h2 class="text-lg font-bold mb-4 text-[#00ffbb]">Registro de usuario</h2>

          <label class="block text-white">
            Nombre de usuario:
            <input type="text" name="username" class="border w-full p-2 rounded mt-1 text-white" required />
          </label>

          <label class="block text-white">
            Contraseña:
            <input type="password" name="password" class="border w-full p-2 rounded mt-1 text-white" required />
          </label>

          <label class="block text-white">
            Confirmar contraseña:
            <input type="password" name="confirmPassword" class="border w-full p-2 rounded mt-1 text-white" required />
          </label>

          <button type="submit" class="bg-[#00ffbb] text-black px-4 py-2 rounded hover:bg-white hover:text-black">
            Registrarse
          </button>
        </form>
      </div>
    </div>
  </div>
</div>

<!-- Script de registro -->
 
<script type="module">
  document.getElementById('register-form')?.addEventListener('submit', async (event) => {
    event.preventDefault();

    const form = event.target;
    const formData = new FormData(form);

    const username = formData.get('username');
    const password = formData.get('password');
    const confirmPassword = formData.get('confirmPassword');

    if (password !== confirmPassword) {
      alert('Las contraseñas no coinciden');
      return;
    }

    try {
      const res = await fetch('/api/register', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ username, password }),
      });

      const result = await res.json();
      if (result.success) {
        alert('Registro exitoso');
        window.location.href = '/login';
      } else {
        alert('Error: ' + result.message);
      }
    } catch (error) {
      console.error('Error en el registro:', error);
      alert('Hubo un error en el servidor.');
    }
  });
</script>
